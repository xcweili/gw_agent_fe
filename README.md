# 招投标智能体平台前端项目

这是一个基于 Vue 3 + Element Plus + Express 开发的招投标智能体平台，采用前后端分离架构。

## 功能特性

### 1. 用户认证与授权
- **用户注册**：支持新用户注册账号
- **用户登录**：安全的登录系统，支持记住登录状态
- **角色权限**：基于 RBAC 的权限控制
  - 普通用户：使用智能体、创建智能体
  - 管理员：完整权限，包括用户权限管理
- **权限管理**：管理员可管理系统用户权限

### 2. 首页功能
- **左右分栏布局**：左侧为智能体列表，右侧为对话区域
- **智能体列表**：显示所有已注册的智能体，支持搜索、筛选
- **对话功能**：
  - 支持文本输入和文件上传
  - 流式响应显示
  - think 过程展示（可展开/收起）
  - 快捷问题快速发送
  - "开启新对话"功能
- **用户信息展示**：全局显示当前登录用户信息

### 3. 智能体管理页面
- **智能体列表**：卡片式网格布局展示，支持列表/网格视图切换
- **智能体搜索**：按名称、描述快速搜索
- **智能体筛选**：按类型筛选智能体
- **智能体排序**：按创建时间、名称排序
- **创建智能体**：
  - 支持图标上传（默认使用 SVG 图标）
  - 多标签配置：基础信息、API 配置、快捷问题
  - 拖拽排序快捷问题
  - 表单验证和错误提示
- **编辑智能体**：完整的编辑功能
- **删除智能体**：支持删除操作
- **空状态展示**：友好的空状态提示和插图
- **加载状态**：骨架屏加载动画

### 4. 后端 API 服务
- **RESTful API**：标准化的接口设计
- **用户管理 API**：注册、登录、权限管理
- **智能体 CRUD**：完整的智能体管理接口
- **数据持久化**：JSON 文件存储
- **跨域支持**：配置 Vite 代理解决跨域问题

### 5. 项目工程化
- **NVM 配置**：自动切换 Node.js 版本
- **环境变量管理**：支持多环境配置
- **构建优化**：基于 Vite 的高效构建

## 项目结构

```
agent_fe/
├── server/                     # 后端服务
│   ├── server.js              # Express 服务入口
│   ├── data/                   # JSON 数据存储
│   │   ├── users.json         # 用户数据
│   │   └── agents.json        # 智能体数据
│   └── package.json           # 服务依赖配置
├── public/                     # 静态资源目录
├── src/
│   ├── components/            # Vue 组件
│   │   ├── Sidebar.vue       # 左侧边栏组件
│   │   └── ChatArea.vue      # 右侧对话区域组件
│   ├── views/                 # 页面组件
│   │   ├── HomePage.vue      # 首页
│   │   ├── LoginPage.vue     # 登录页
│   │   ├── RegisterPage.vue  # 注册页
│   │   ├── AdminPage.vue     # 权限管理页
│   │   └── AgentListPage.vue # 智能体列表页
│   ├── services/              # 服务层
│   │   └── backendService.js # 后端 API 服务
│   ├── router/                # 路由配置
│   │   └── index.js
│   ├── App.vue               # 根组件
│   ├── main.js               # 应用入口
│   └── style.css             # 全局样式
├── .nvmrc                     # Node.js 版本配置
├── index.html                 # HTML 模板
├── package.json              # 项目配置
├── vite.config.js           # Vite 配置
└── README.md                # 项目说明
```

## 安装和运行

### 环境要求
- Node.js >= 18 (通过 .nvmrc 自动管理)
- npm >= 9

### 安装依赖

前端：
```bash
npm install
```

后端：
```bash
cd server
npm install
```

### 开发模式

同时启动前端和后端：
```bash
# 终端 1 - 启动后端
cd server
npm run dev

# 终端 2 - 启动前端
npm run dev
```

### 构建生产版本
```bash
npm run build
```

### 预览生产版本
```bash
npm run preview
```

## 使用说明

### 1. 用户注册与登录
1. 访问首页，自动跳转登录页
2. 点击"注册账号"进行注册
3. 使用注册账号登录

### 2. 创建智能体
1. 点击顶部"创建智能体"按钮
2. 填写智能体信息：
   - **基本信息**：名称、简介、图标
   - **API 配置**：API 地址、API Key
   - **快捷问题**：配置常用问题，支持拖拽排序
3. 点击"创建"保存

### 3. 对话功能
1. 选择左侧智能体开始对话
2. 在输入框中输入问题或上传文件
3. 点击发送或按 Enter 键发送消息
4. 支持快捷问题快速发送
5. 点击"开启新对话"清空历史记录

### 4. 权限管理（管理员）
1. 点击右上角用户头像
2. 选择"权限管理"
3. 查看所有用户列表
4. 调整用户权限等级

## 技术栈

### 前端
- **Vue 3**：前端框架 (Composition API)
- **Element Plus**：UI 组件库
- **Vue Router**：路由管理
- **Axios**：HTTP 请求
- **Vite**：构建工具
- **Sortable.js**：拖拽排序

### 后端
- **Express.js**：Node.js Web 框架
- **CORS**：跨域中间件
- **JSON 文件存储**：轻量级数据持久化

## 开发规范

- 使用 Vue 3 Composition API
- 组件化开发，遵循单一职责原则
- 使用 Element Plus 组件库保持界面一致性
- 后端数据存储，支持多设备同步
- 完善的错误处理和用户反馈
- 统一的代码风格和命名规范

## 默认用户

项目预置了管理员账号用于测试：

| 用户名 | 密码 | 角色 |
|--------|------|------|
| admin | admin123 | 管理员 |
| user | user123 | 普通用户 |

## 注意事项

1. **API 配置**：实际使用时需要配置有效的智能体 API 地址和 Key
2. **文件上传**：当前版本的文件上传功能仅在前端展示，实际使用需要后端支持
3. **数据存储**：智能体和用户信息存储在 server/data 目录
4. **端口占用**：前端默认 3000，后端默认 3001

## 扩展建议

1. **文件处理**：集成文件解析和处理功能
2. **对话历史**：保存对话历史到云端
3. **智能体市场**：提供智能体分享和下载功能
4. **数据导出**：支持导出智能体和对话数据
5. **多语言**：支持中英文切换
